\documentclass{article}

\usepackage{amsmath}
\usepackage{listings}
\usepackage{syntax}
\usepackage[shorthand]{semantic}

\begin{document}

\begin{align*}
e_1 \mapsto \lstinline[mathescape]+Stream.of($|[e_1|]$)+
\end{align*}

\begin{equation*}
e_1 \mapsto \lstinline[mathescape]+Stream.of($|[e_1|]$)+
\end{equation*}

\newsavebox{\mybox}
\setbox\mybox\hbox{\lstinline[mathescape]|Stream.of($|[e_1|]$)|}
\begin{align*}
e_1 &\mapsto \usebox{\mybox}
\end{align*}

\begin{equation*}
e_1 \mapsto \lstinline[mathescape]|Stream.of($|[e_1|]$)|
\end{equation*}


\end{document}
