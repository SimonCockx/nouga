\begin{defbox}
\paragraph{Semantic algebra.}
\begin{align*}
A^0 &= Unit = \set{()} \\
A^n &= A \times A^{n-1} \\
A^{m:n} &= \bigcup_{k \in m..n} A^k \\
A^{*} &= A^{0:\infty}
\end{align*}

Note: from the above definition, $A^1$ formally equals $A \times Unit$, so elements of this set are of the form $(a, ())$ where $a \in A$. I might sometimes write $a$ instead of $(a, ())$ if it is clear from the context what is meant. (similar for $A^n$, where I will leave out the last element of the cartesian product)

\subimport{}{semantics-algebra-def}

Note: equality is checked deeply, i.e. recursively on attributes of records.


Given $f : A_1 \times \dots \times A_n \to B$ where $A_1, \dots, A_n \subset \sdom$ and $B \subset \sdom$, let
\begin{equation*}
\hat{f} : \sdom_\bot^n \to \sdom_\bot : \hat{f}(a_1, \dots, a_n) =
\begin{cases}
f(a_1, \dots, a_n), & (a_1, \dots, a_n) \in \dom{f} \\
\bot, & \text{otherwise.}
\end{cases}
\end{equation*}
\end{defbox}
